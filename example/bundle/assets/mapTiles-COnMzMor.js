import{W as u,S as c,a as g}from"./three.module-CQU0seT4.js";/* empty css               */import{g as w}from"./lil-gui.module.min-Vka56b52.js";import{X as f}from"./EPSGTilesPlugin-_FiPb7b9.js";import{T as h}from"./TilesRenderer-v4d-U3_V.js";import{T as P}from"./TilesFadePlugin-D_u_P2Qt.js";import{U as C}from"./UpdateOnChangePlugin-Dcw2gdwr.js";import{E}from"./EnvironmentControls-BDRAm2YU.js";import{G as T}from"./GlobeControls-BTCY0NrZ.js";import"./ImageFormatPlugin-BkWqR_I0.js";import"./TMSImageSource-BhasGIwp.js";import"./TiledImageSource-C04IJpk-.js";import"./I3DMLoader-BK_CcjfQ.js";import"./readMagicBytes-ReGFEf36.js";import"./GLTFLoader-Bzr6GmPM.js";import"./Ellipsoid-BKsGN9dG.js";import"./B3DMLoader-BZtrZCNg.js";import"./PNTSLoader-gB5YPyhc.js";import"./CMPTLoader-CmHUp1e-.js";import"./EllipsoidRegion-BEIhCuST.js";let n,o,i,e,r;const s={errorTarget:1,planar:!1},a=R(m);x();m();function x(){i=new u({antialias:!0}),i.setPixelRatio(window.devicePixelRatio),i.setSize(window.innerWidth,window.innerHeight),i.setClearColor(1118481),document.body.appendChild(i.domElement),o=new c,r=new g(60,window.innerWidth/window.innerHeight,.001,1e4),l(),p(),window.addEventListener("resize",p,!1);const t=new w;t.add(s,"planar").onChange(l),t.add(s,"errorTarget",1,40).onChange(()=>{e.getPluginByName("UPDATE_ON_CHANGE_PLUGIN").needsUpdate=!0,a()}),t.open()}function l(){e&&e.dispose(),n&&n.dispose(),e=new h("https://tile.openstreetmap.org/{z}/{x}/{y}.png"),e.registerPlugin(new P({maximumFadeOutTiles:200})),e.registerPlugin(new C),e.registerPlugin(new f({center:!0,shape:s.planar?"planar":"ellipsoid"})),e.lruCache.minSize=900,e.lruCache.maxSize=1300,e.parseQueue.maxJobs=3,e.setCamera(r),o.add(e.group),s.planar?(e.errorTarget=1,n=new E(o,r,i.domElement),n.enableDamping=!0,n.minZoomDistance=2,n.minDistance=.01,n.maxDistance=5e3,n.cameraRadius=0,n.fallbackPlane.normal.set(0,0,1),n.up.set(0,0,1),n.camera.position.set(0,0,2e3),n.camera.quaternion.identity(),r.near=.001,r.far=1e4,r.updateProjectionMatrix()):(e.group.rotation.x=-Math.PI/2,n=new T(o,r,i.domElement),n.setEllipsoid(e.ellipsoid,e.group),n.enableDamping=!0,n.camera.position.set(0,0,1.75*1e7),n.camera.quaternion.identity(),n.minDistance=150),n.addEventListener("change",a),n.addEventListener("end",a),e.addEventListener("needs-render",a),e.addEventListener("needs-update",a),m()}function p(){const t=window.innerWidth/window.innerHeight;r.aspect=t,r.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight),a()}function m(){n.update(),r.updateMatrixWorld(),e.errorTarget=s.errorTarget,e.setCamera(r),e.setResolutionFromRenderer(r,i),e.update(),i.render(o,r)}function R(t){let d=!1;return()=>{d||(d=!0,requestAnimationFrame(()=>{d=!1,t()}))}}
//# sourceMappingURL=mapTiles-COnMzMor.js.map
